(()=>{var e={394:function(e){var t;t=function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={exports:{},id:r,loaded:!1};return e[r].call(o.exports,o,o.exports,n),o.loaded=!0,o.exports}return n.m=e,n.c=t,n.p="",n(0)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=(r=n(1))&&r.__esModule?r:{default:r};t.default=o.default,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=u(n(2)),o=u(n(8)),i=u(n(10)),a=u(n(28));function u(e){return e&&e.__esModule?e:{default:e}}t.default={StoreAdapter:r.default,LocalStoreAdapter:o.default,__storeAdapter:new r.default,getStoreAdapter:function(){return this.__storeAdapter},setStoreAdapter:function(e){this.__storeAdapter=e},UI:a.default,render:i.default,getAnnotations:function(e,t){var n;return(n=this.getStoreAdapter()).getAnnotations.apply(n,arguments)}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=(r=n(3))&&r.__esModule?r:{default:r},a=n(4);function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var l=function(){function e(){var t=this,n=arguments.length<=0||void 0===arguments[0]?{}:arguments[0];u(this,e),Object.keys(n).forEach((function(e){"function"==typeof n[e]&&"function"==typeof t[e]&&(t[e]=n[e])}))}return o(e,[{key:"__getAnnotations",value:function(e,t){(0,i.default)("getAnnotations")}},{key:"getAnnotation",value:function(e,t){(0,i.default)("getAnnotation")}},{key:"__addAnnotation",value:function(e,t,n){(0,i.default)("addAnnotation")}},{key:"__editAnnotation",value:function(e,t,n){(0,i.default)("editAnnotation")}},{key:"__deleteAnnotation",value:function(e,t){(0,i.default)("deleteAnnotation")}},{key:"getComments",value:function(e,t){(0,i.default)("getComments")}},{key:"__addComment",value:function(e,t,n){(0,i.default)("addComment")}},{key:"__deleteComment",value:function(e,t){(0,i.default)("deleteComment")}},{key:"getAnnotations",get:function(){return this.__getAnnotations},set:function(e){this.__getAnnotations=function(t,n){return e.apply(void 0,arguments).then((function(e){return e.annotations&&e.annotations.forEach((function(e){e.documentId=t})),e}))}}},{key:"addAnnotation",get:function(){return this.__addAnnotation},set:function(e){this.__addAnnotation=function(t,n,r){return e.apply(void 0,arguments).then((function(e){return(0,a.fireEvent)("annotation:add",t,n,e),e}))}}},{key:"editAnnotation",get:function(){return this.__editAnnotation},set:function(e){this.__editAnnotation=function(t,n,r){return e.apply(void 0,arguments).then((function(e){return(0,a.fireEvent)("annotation:edit",t,n,e),e}))}}},{key:"deleteAnnotation",get:function(){return this.__deleteAnnotation},set:function(e){this.__deleteAnnotation=function(t,n){return e.apply(void 0,arguments).then((function(e){return e&&(0,a.fireEvent)("annotation:delete",t,n),e}))}}},{key:"addComment",get:function(){return this.__addComment},set:function(e){this.__addComment=function(t,n,r){return e.apply(void 0,arguments).then((function(e){return(0,a.fireEvent)("comment:add",t,n,e),e}))}}},{key:"deleteComment",get:function(){return this.__deleteComment},set:function(e){this.__deleteComment=function(t,n){return e.apply(void 0,arguments).then((function(e){return e&&(0,a.fireEvent)("comment:delete",t,n),e}))}}}]),e}();t.default=l,e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){throw new Error(e+" is not implemented")},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.fireEvent=function(){a.emit.apply(a,arguments)},t.addEventListener=function(){a.on.apply(a,arguments)},t.removeEventListener=function(){a.removeListener.apply(a,arguments)};var r,o=(r=n(5))&&r.__esModule?r:{default:r},i=n(6),a=new o.default,u=void 0;document.addEventListener("click",(function(e){if((0,i.findSVGAtPoint)(e.clientX,e.clientY)){var t=(0,i.findAnnotationAtPoint)(e.clientX,e.clientY);u&&u!==t&&a.emit("annotation:blur",u),t&&a.emit("annotation:click",t),u=t}}))},function(e,t){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(e){return"function"==typeof e}function o(e){return"object"==typeof e&&null!==e}function i(e){return void 0===e}e.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw TypeError("n must be a positive number");return this._maxListeners=e,this},n.prototype.emit=function(e){var t,n,a,u,l,s;if(this._events||(this._events={}),"error"===e&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if((t=arguments[1])instanceof Error)throw t;throw TypeError('Uncaught, unspecified "error" event.')}if(i(n=this._events[e]))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:u=Array.prototype.slice.call(arguments,1),n.apply(this,u)}else if(o(n))for(u=Array.prototype.slice.call(arguments,1),a=(s=n.slice()).length,l=0;l<a;l++)s[l].apply(this,u);return!0},n.prototype.addListener=function(e,t){var a;if(!r(t))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",e,r(t.listener)?t.listener:t),this._events[e]?o(this._events[e])?this._events[e].push(t):this._events[e]=[this._events[e],t]:this._events[e]=t,o(this._events[e])&&!this._events[e].warned&&(a=i(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&a>0&&this._events[e].length>a&&(this._events[e].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[e].length),"function"==typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(e,t){if(!r(t))throw TypeError("listener must be a function");var n=!1;function o(){this.removeListener(e,o),n||(n=!0,t.apply(this,arguments))}return o.listener=t,this.on(e,o),this},n.prototype.removeListener=function(e,t){var n,i,a,u;if(!r(t))throw TypeError("listener must be a function");if(!this._events||!this._events[e])return this;if(a=(n=this._events[e]).length,i=-1,n===t||r(n.listener)&&n.listener===t)delete this._events[e],this._events.removeListener&&this.emit("removeListener",e,t);else if(o(n)){for(u=a;u-- >0;)if(n[u]===t||n[u].listener&&n[u].listener===t){i=u;break}if(i<0)return this;1===n.length?(n.length=0,delete this._events[e]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",e,t)}return this},n.prototype.removeAllListeners=function(e){var t,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[e]&&delete this._events[e],this;if(0===arguments.length){for(t in this._events)"removeListener"!==t&&this.removeAllListeners(t);return this.removeAllListeners("removeListener"),this._events={},this}if(r(n=this._events[e]))this.removeListener(e,n);else if(n)for(;n.length;)this.removeListener(e,n[n.length-1]);return delete this._events[e],this},n.prototype.listeners=function(e){return this._events&&this._events[e]?r(this._events[e])?[this._events[e]]:this._events[e].slice():[]},n.prototype.listenerCount=function(e){if(this._events){var t=this._events[e];if(r(t))return 1;if(t)return t.length}return 0},n.listenerCount=function(e,t){return e.listenerCount(t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BORDER_COLOR=void 0,t.findSVGContainer=function(e){for(var t=e;(t=t.parentNode)&&t!==document;)if("SVG"===t.nodeName.toUpperCase()&&"true"===t.getAttribute("data-pdf-annotate-container"))return t;return null},t.findSVGAtPoint=a,t.findAnnotationAtPoint=function(e,t){var n=a(e,t);if(n){for(var r=n.querySelectorAll("[data-pdf-annotate-type]"),o=0,i=r.length;o<i;o++){var s=r[o];if(u(e,t,l(s)))return s}return null}},t.pointIntersectsRect=u,t.getOffsetAnnotationRect=l,t.getAnnotationRect=s,t.scaleUp=d,t.scaleDown=function(e,t){var n={},r=f(e).viewport;return Object.keys(t).forEach((function(e){n[e]=t[e]/r.scale})),n},t.getScroll=function(e){for(var t=0,n=0,r=e;(r=r.parentNode)&&r!==document;)t+=r.scrollTop,n+=r.scrollLeft;return{scrollTop:t,scrollLeft:n}},t.getOffset=c,t.disableUserSelect=function(){i.parentNode||document.head.appendChild(i)},t.enableUserSelect=function(){i.parentNode&&i.parentNode.removeChild(i)},t.getMetadata=f;var r,o=(r=n(7))&&r.__esModule?r:{default:r};t.BORDER_COLOR="#00BFFF";var i=(0,o.default)({body:{"-webkit-user-select":"none","-moz-user-select":"none","-ms-user-select":"none","user-select":"none"}});function a(e,t){for(var n=document.querySelectorAll('svg[data-pdf-annotate-container="true"]'),r=0,o=n.length;r<o;r++){var i=n[r];if(u(e,t,i.getBoundingClientRect()))return i}return null}function u(e,t,n){return t>=n.top&&t<=n.bottom&&e>=n.left&&e<=n.right}function l(e){var t=s(e),n=c(e),r=n.offsetLeft,o=n.offsetTop;return{top:t.top+o,left:t.left+r,right:t.right+r,bottom:t.bottom+o}}function s(e){var t=0,n=0,r=0,o=0,i=e.getBoundingClientRect();switch(e.nodeName.toLowerCase()){case"path":var u=void 0,l=void 0,s=void 0,f=void 0;e.getAttribute("d").replace(/Z/,"").split("M").splice(1).forEach((function(e){var t=e.split(" ").map((function(e){return parseInt(e,10)}));(void 0===u||t[0]<u)&&(u=t[0]),(void 0===l||t[2]>l)&&(l=t[2]),(void 0===s||t[1]<s)&&(s=t[1]),(void 0===f||t[3]>f)&&(f=t[3])})),t=f-s,n=l-u,r=u,o=s;break;case"line":t=parseInt(e.getAttribute("y2"),10)-parseInt(e.getAttribute("y1"),10),n=parseInt(e.getAttribute("x2"),10)-parseInt(e.getAttribute("x1"),10),r=parseInt(e.getAttribute("x1"),10),o=parseInt(e.getAttribute("y1"),10),0===t&&(t+=16,o-=8);break;case"text":t=i.height,n=i.width,r=parseInt(e.getAttribute("x"),10),o=parseInt(e.getAttribute("y"),10)-t;break;case"g":var p=c(e),v=p.offsetLeft,h=p.offsetTop;t=i.height,n=i.width,r=i.left-v,o=i.top-h,"strikeout"===e.getAttribute("data-pdf-annotate-type")&&(t+=16,o-=8);break;case"rect":case"svg":t=parseInt(e.getAttribute("height"),10),n=parseInt(e.getAttribute("width"),10),r=parseInt(e.getAttribute("x"),10),o=parseInt(e.getAttribute("y"),10)}var m={top:o,left:r,width:n,height:t,right:r+n,bottom:o+t};return["svg","g"].includes(e.nodeName.toLowerCase())||(m=d(a(i.left,i.top),m)),m}function d(e,t){var n={},r=f(e).viewport;return Object.keys(t).forEach((function(e){n[e]=t[e]*r.scale})),n}function c(e){for(var t=e;(t=t.parentNode)&&t!==document&&"SVG"!==t.nodeName.toUpperCase(););var n=t.getBoundingClientRect();return{offsetLeft:n.left,offsetTop:n.top}}function f(e){return{documentId:e.getAttribute("data-pdf-annotate-document"),pageNumber:parseInt(e.getAttribute("data-pdf-annotate-page"),10),viewport:JSON.parse(e.getAttribute("data-pdf-annotate-viewport"))}}i.setAttribute("data-pdf-annotate-user-select","true")},function(e,t){e.exports=function(e){var t=document.createElement("style"),n=Object.keys(e).map((function(t){return function(e,t){return e+" {\n"+function(e){return Object.keys(e).map((function(t){return function(e,t){return isNaN(t)||0==t||(t+="px"),function(e){return e.replace(/[A-Z]/g,(function(e){return"-"+e.toLowerCase()}))}(e)+": "+t+";"}(t,e[t])})).join("\n")}(t)+"\n}"}(t,e[t])})).join("\n");return t.setAttribute("type","text/css"),t.appendChild(document.createTextNode(n)),t}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=o(n(9));function o(e){return e&&e.__esModule?e:{default:e}}var i=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,Object.getPrototypeOf(t).call(this,{getAnnotations:function(e,t){return new Promise((function(n,r){var o=a(e).filter((function(e){return e.page===t&&"Annotation"===e.class}));n({documentId:e,pageNumber:t,annotations:o})}))},getAnnotation:function(e,t){return Promise.resolve(a(e)[l(e,t)])},addAnnotation:function(e,t,n){return new Promise((function(o,i){n.class="Annotation",n.uuid=(0,r.default)(),n.page=t;var l=a(e);l.push(n),u(e,l),o(n)}))},editAnnotation:function(e,t,n){return new Promise((function(r,o){var i=a(e);i[l(e,t)]=n,u(e,i),r(n)}))},deleteAnnotation:function(e,t){return new Promise((function(n,r){var o=l(e,t);if(o>-1){var i=a(e);i.splice(o,1),u(e,i)}n(!0)}))},getComments:function(e,t){return new Promise((function(n,r){n(a(e).filter((function(e){return"Comment"===e.class&&e.annotation===t})))}))},addComment:function(e,t,n){return new Promise((function(o,i){var l={class:"Comment",uuid:(0,r.default)(),annotation:t,content:n},s=a(e);s.push(l),u(e,s),o(l)}))},deleteComment:function(e,t){return new Promise((function(n,r){a(e);for(var o=-1,i=a(e),l=0,s=i.length;l<s;l++)if(i[l].uuid===t){o=l;break}o>-1&&(i.splice(o,1),u(e,i)),n(!0)}))}}))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t}(o(n(2)).default);function a(e){return JSON.parse(localStorage.getItem(e+"/annotations"))||[]}function u(e,t){localStorage.setItem(e+"/annotations",JSON.stringify(t))}function l(e,t){for(var n=-1,r=a(e),o=0,i=r.length;o<i;o++)if(r[o].uuid===t){n=o;break}return n}t.default=i,e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(n,r)};var n=/[xy]/g;function r(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){return new Promise((function(o,i){return e.innerHTML="",e.setAttribute("data-pdf-annotate-container",!0),e.setAttribute("data-pdf-annotate-viewport",JSON.stringify(t)),e.removeAttribute("data-pdf-annotate-document"),e.removeAttribute("data-pdf-annotate-page"),n?(e.setAttribute("data-pdf-annotate-document",n.documentId),e.setAttribute("data-pdf-annotate-page",n.pageNumber),Array.isArray(n.annotations)&&0!==n.annotations.length?(n.annotations.forEach((function(n){(0,r.default)(e,n,t)})),void o(e)):o(e)):o(e)}))},o(n(1));var r=o(n(11));function o(e){return e&&e.__esModule?e:{default:e}}o(n(20)),e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){n||(n=JSON.parse(e.getAttribute("data-pdf-annotate-viewport")));var r=void 0;switch(t.type){case"area":case"highlight":r=(0,u.default)(t);break;case"strikeout":r=(0,o.default)(t);break;case"point":r=(0,a.default)(t);break;case"textbox":r=(0,l.default)(t);break;case"drawing":r=(0,i.default)(t)}return r&&(r.setAttribute("data-pdf-annotate-id",t.uuid),r.setAttribute("data-pdf-annotate-type",t.type),r.setAttribute("aria-hidden",!0),e.appendChild(c(r,n))),r};var r=s(n(12)),o=s(n(13)),i=s(n(16)),a=s(n(17)),u=s(n(18)),l=s(n(19));function s(e){return e&&e.__esModule?e:{default:e}}var d=/firefox/i.test(navigator.userAgent);function c(e,t){var n=function(e){var t=void 0,n=void 0;switch(e.rotation%360){case 0:t=n=0;break;case 90:t=0,n=e.width/e.scale*-1;break;case 180:t=e.width/e.scale*-1,n=e.height/e.scale*-1;break;case 270:t=e.height/e.scale*-1,n=0}return{x:t,y:n}}(t);if(e.setAttribute("transform","scale("+t.scale+") rotate("+t.rotation+") translate("+n.x+", "+n.y+")"),!d&&"svg"===e.nodeName.toLowerCase()){e.setAttribute("x",parseInt(e.getAttribute("x"),10)*t.scale),e.setAttribute("y",parseInt(e.getAttribute("y"),10)*t.scale);var o=parseInt(e.getAttribute("x",10)),i=parseInt(e.getAttribute("y",10)),a=parseInt(e.getAttribute("width"),10),u=parseInt(e.getAttribute("height"),10),l=e.querySelector("path"),s=l.parentNode;switch([e,s,l,e.querySelector("rect")].forEach((function(e){e.setAttribute("width",parseInt(e.getAttribute("width"),10)*t.scale),e.setAttribute("height",parseInt(e.getAttribute("height"),10)*t.scale)})),c(l,(0,r.default)({},t,{scale:1})),t.rotation%360){case 90:e.setAttribute("x",t.width-i-a),e.setAttribute("y",o),s.setAttribute("x",1),s.setAttribute("y",0);break;case 180:e.setAttribute("x",t.width-o-a),e.setAttribute("y",t.height-i-u),s.setAttribute("y",2);break;case 270:e.setAttribute("x",i),e.setAttribute("y",t.height-o-u),s.setAttribute("x",-1),s.setAttribute("y",0)}}return e}e.exports=t.default},function(e,t){"use strict";var n=Object.prototype.hasOwnProperty,r=Object.prototype.propertyIsEnumerable;function o(e){if(null==e)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(e)}e.exports=Object.assign||function(e,t){for(var i,a,u=o(e),l=1;l<arguments.length;l++){for(var s in i=Object(arguments[l]))n.call(i,s)&&(u[s]=i[s]);if(Object.getOwnPropertySymbols){a=Object.getOwnPropertySymbols(i);for(var d=0;d<a.length;d++)r.call(i,a[d])&&(u[a[d]]=i[a[d]])}}return u}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=document.createElementNS("http://www.w3.org/2000/svg","g");return(0,r.default)(t,{stroke:(0,o.default)(e.color||"#f00"),strokeWidth:1}),e.rectangles.forEach((function(e){var n=document.createElementNS("http://www.w3.org/2000/svg","line");(0,r.default)(n,{x1:e.x,y1:e.y,x2:e.x+e.width,y2:e.y}),t.appendChild(n)})),t};var r=i(n(14)),o=i(n(15));function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){Object.keys(t).forEach((function(o){e.setAttribute(function(e){return-1===r.indexOf(e)&&(e=e.replace(n,(function(e){return"-"+e.toLowerCase()}))),e}(o),t[o])}))};var n=/[A-Z]/g,r=["viewBox"];e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return n.test(e)&&(e="#"+e),e};var n=/^([a-f0-9]{6}|[a-f0-9]{3})$/i;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){for(var t=[],n=document.createElementNS("http://www.w3.org/2000/svg","path"),i=0,a=e.lines.length;i<a;i++){var u=e.lines[i],l=e.lines[i+1];l&&t.push("M"+u[0]+" "+u[1]+" "+l[0]+" "+l[1])}return(0,r.default)(n,{d:t.join(" ")+"Z",stroke:(0,o.default)(e.color||"#000"),strokeWidth:e.width||1,fill:"none"}),n};var r=i(n(14)),o=i(n(15));function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=document.createElementNS("http://www.w3.org/2000/svg","svg"),n=document.createElementNS("http://www.w3.org/2000/svg","svg"),r=document.createElementNS("http://www.w3.org/2000/svg","rect"),a=document.createElementNS("http://www.w3.org/2000/svg","path");return(0,o.default)(t,{width:i,height:i,x:e.x,y:e.y}),(0,o.default)(n,{width:i,height:i,x:0,y:-1.25,viewBox:"0 0 1000 1000"}),(0,o.default)(r,{width:i,height:i,stroke:"#000",fill:"#ff0"}),(0,o.default)(a,{d:"M499.968 214.336q-113.832 0 -212.877 38.781t-157.356 104.625 -58.311 142.29q0 62.496 39.897 119.133t112.437 97.929l48.546 27.9 -15.066 53.568q-13.392 50.778 -39.06 95.976 84.816 -35.154 153.45 -95.418l23.994 -21.204 31.806 3.348q38.502 4.464 72.54 4.464 113.832 0 212.877 -38.781t157.356 -104.625 58.311 -142.29 -58.311 -142.29 -157.356 -104.625 -212.877 -38.781z",strokeWidth:50,stroke:"#000",fill:"#fff"}),n.appendChild(a),t.appendChild(r),t.appendChild(n),t};var r,o=(r=n(14))&&r.__esModule?r:{default:r},i=25;e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};t.default=function(e){if("highlight"!==e.type){var t=u(e);return(0,o.default)(t,{stroke:(0,i.default)(e.color||"#f00"),fill:"none"}),t}var n,a=(n=document.createElementNS("http://www.w3.org/2000/svg","g"),(0,o.default)(n,{fill:(0,i.default)(e.color||"#ff0"),fillOpacity:.2}),e.rectangles.forEach((function(e){n.appendChild(u(e))})),{v:n});if("object"===(void 0===a?"undefined":r(a)))return a.v};var o=a(n(14)),i=a(n(15));function a(e){return e&&e.__esModule?e:{default:e}}function u(e){var t=document.createElementNS("http://www.w3.org/2000/svg","rect");return(0,o.default)(t,{x:e.x,y:e.y,width:e.width,height:e.height}),t}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=document.createElementNS("http://www.w3.org/2000/svg","text");return(0,r.default)(t,{x:e.x,y:e.y+parseInt(e.size,10),fill:(0,o.default)(e.color||"#000"),fontSize:e.size}),t.innerHTML=e.content,t};var r=i(n(14)),o=i(n(15));function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){e=Array.isArray(e)?e:[],Object.keys(u).forEach((function(t){var n=u[t];e.filter((function(e){return e.type===t})).sort(n).forEach((function(e,t){return(0,r.default)(e,t+1)}))}))};var r=o(n(21));function o(e){return e&&e.__esModule?e:{default:e}}function i(e,t){return e.y<t.y?e.x-t.x:1}function a(e,t){return i(e.rectangles[0],t.rectangles[0])}(0,o(n(27)).default)();var u={highlight:a,strikeout:a,drawing:function(e,t){var n=e.lines[0],r=t.lines[0];return i({x:n[0],y:n[1]},{x:r[0],y:r[1]})},textbox:i,point:i,area:i};e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){var t=arguments.length<=1||void 0===arguments[1]?0:arguments[1];switch(e.type){case"highlight":case"strikeout":var n=e.rectangles,u=n[0],s=n[n.length-1];(0,i.default)((0,r.default)("Begin "+e.type+" annotation "+t,e.uuid),u.x,u.y,e.page,!0),(0,i.default)((0,r.default)("End "+e.type+" annotation "+t,e.uuid+"-end"),s.x+s.width,s.y,e.page,!1);break;case"textbox":case"point":var d="textbox"===e.type?" (content: "+e.content+")":"";(0,o.default)((0,r.default)(e.type+" annotation "+t+d,e.uuid),e.x,e.y,e.page);break;case"drawing":case"area":var c=void 0!==e.x?e.x:e.lines[0][0],f=void 0!==e.y?e.y:e.lines[0][1];(0,o.default)((0,r.default)("Unlabeled drawing",e.uuid),c,f,e.page)}l.includes(e.type)&&(0,a.default)(e.documentId,e.uuid)};var r=u(n(22)),o=u(n(23)),i=u(n(24)),a=u(n(25));function u(e){return e&&e.__esModule?e:{default:e}}var l=["highlight","point","area"];e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){var n=document.createElement("div"),r=document.createTextNode(e);return n.appendChild(r),n.setAttribute("id","pdf-annotate-screenreader-"+t),n.style.position="absolute",n.style.left="-10000px",n.style.top="auto",n.style.width="1px",n.style.height="1px",n.style.overflow="hidden",n},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,r){if((0,o.default)(e,t,n,r,!0))return!0;var a=document.querySelector('svg[data-pdf-annotate-page="'+r+'"]'),u=a.getBoundingClientRect(),l=[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(a.parentNode.querySelectorAll(".textLayer > div")));n=(0,i.scaleUp)(a,{y:n}).y+u.top,t=(0,i.scaleUp)(a,{x:t}).x+u.left;for(var s=0,d=l.length;s<d;s++){var c=l[s];if(n<=c.getBoundingClientRect().top)return c.parentNode.insertBefore(e,c),!0}var f=a.parentNode.querySelector(".textLayer");if(f){var p=f.getBoundingClientRect();if((0,i.pointIntersectsRect)(t,n,p))return f.appendChild(e),!0}return!1};var r,o=(r=n(24))&&r.__esModule?r:{default:r},i=n(6);e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n,o,i){var a=function(e,t,n){var o=document.querySelector('svg[data-pdf-annotate-page="'+n+'"]'),i=o.getBoundingClientRect();return t=(0,r.scaleUp)(o,{y:t}).y+i.top,e=(0,r.scaleUp)(o,{x:e}).x+i.left,[].concat(function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}(o.parentNode.querySelectorAll(".textLayer [data-canvas-width]"))).filter((function(n){return(0,r.pointIntersectsRect)(e,t,n.getBoundingClientRect())}))[0]}(t=Math.max(t+2*(i?1:-1),0),n+2,o);if(!a)return!1;t+=2*(i?-1:1);var u=document.querySelector('svg[data-pdf-annotate-page="'+o+'"]'),l=(0,r.scaleDown)(u,{left:a.getBoundingClientRect().left}).left-u.getBoundingClientRect().left,s=a.cloneNode(!0),d=s.innerHTML.split(""),c=[];for(s.style.position="absolute",s.style.top="-10000px",s.style.left="-10000px",document.body.appendChild(s);d.length;){if(">"===d[d.length-1])for(;d.length&&(c.unshift(d.pop()),"<"!==c[0]););if(s.innerHTML=d.join(""),l+(0,r.scaleDown)(u,{width:s.getBoundingClientRect().width}).width<=t)break;c.unshift(d.pop())}return a.innerHTML=d.join("")+e.outerHTML+c.join(""),s.parentNode.removeChild(s),!0};var r=n(6);e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t,n){return(Array.isArray(n)?Promise.resolve(n):r.default.getStoreAdapter().getComments(e,t)).then((function(e){var n=document.getElementById("pdf-annotate-screenreader-"+t);if(n){var r=document.createElement("ol");r.setAttribute("id","pdf-annotate-screenreader-comment-list-"+t),r.setAttribute("aria-label","Comments"),n.appendChild(r),e.forEach(o.default)}}))};var r=i(n(1)),o=i(n(26));function i(e){return e&&e.__esModule?e:{default:e}}e.exports=t.default},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){if(e){var t=document.querySelector("#pdf-annotate-screenreader-"+e.annotation+" ol");if(t){var n=document.createElement("li");n.setAttribute("id","pdf-annotate-screenreader-comment-"+e.uuid),n.appendChild(document.createTextNode(""+e.content)),t.appendChild(n)}}},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){(0,a.addEventListener)("annotation:add",(function(e,t,n){s(e,t,n.type)})),(0,a.addEventListener)("annotation:edit",(function(e,t,n){s(e,n.page,n.type)})),(0,a.addEventListener)("annotation:delete",d),(0,a.addEventListener)("comment:add",c),(0,a.addEventListener)("comment:delete",f)},l(n(21));var r=l(n(20)),o=l(n(26)),i=l(n(25)),a=n(4),u=l(n(1));function l(e){return e&&e.__esModule?e:{default:e}}function s(e,t,n){u.default.getStoreAdapter().getAnnotations(e,t).then((function(e){return e.annotations.filter((function(e){return e.type===n}))})).then((function(e){return e.forEach((function(e){d(0,e.uuid)})),e})).then(r.default)}function d(e,t){p("pdf-annotate-screenreader-"+t),p("pdf-annotate-screenreader-"+t+"-end")}function c(e,t,n){var r=document.querySelector("pdf-annotate-screenreader-comment-list-"+t);(r?Promise.resolve(!0):(0,i.default)(e,t,[]).then((function(){return r=document.querySelector("pdf-annotate-screenreader-comment-list-"+t),!0}))).then((function(){(0,o.default)(n)}))}function f(e,t){p("pdf-annotate-screenreader-comment-"+t)}function p(e){var t=document.getElementById(e);t&&t.parentNode.removeChild(t)}e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4),o=n(29),i=n(30),a=n(31),u=n(32),l=n(33),s=n(34);t.default={addEventListener:r.addEventListener,removeEventListener:r.removeEventListener,fireEvent:r.fireEvent,disableEdit:o.disableEdit,enableEdit:o.enableEdit,disablePen:i.disablePen,enablePen:i.enablePen,setPen:i.setPen,disablePoint:a.disablePoint,enablePoint:a.enablePoint,disableRect:u.disableRect,enableRect:u.enableRect,disableText:l.disableText,enableText:l.enableText,setText:l.setText,createPage:s.createPage,renderPage:s.renderPage},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")};t.enableEdit=function(){d||(d=!0,(0,a.addEventListener)("annotation:click",E))},t.disableEdit=function(){y(),d&&(d=!1,(0,a.removeEventListener)("annotation:click",E))};var o=l(n(1)),i=l(n(11)),a=n(4),u=n(6);function l(e){return e&&e.__esModule?e:{default:e}}function s(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var d=!1,c=!1,f=void 0,p=void 0,v=void 0,h=void 0,m=void 0;function y(){f&&(f.parentNode.removeChild(f),f=null),document.removeEventListener("click",b),document.removeEventListener("keyup",x),document.removeEventListener("mousedown",A),document.removeEventListener("mousemove",w),document.removeEventListener("mouseup",_),(0,u.enableUserSelect)()}function g(){if(f){var e=f.getAttribute("data-target-id"),t=document.querySelectorAll('[data-pdf-annotate-id="'+e+'"]'),n=f.parentNode.querySelector("svg.annotationLayer"),r=(0,u.getMetadata)(n).documentId;[].concat(s(t)).forEach((function(e){e.parentNode.removeChild(e)})),o.default.getStoreAdapter().deleteAnnotation(r,e),y()}}function b(e){if((0,u.findSVGAtPoint)(e.clientX,e.clientY)){var t=document.getElementById("pdf-annotate-edit-overlay");if(t){if(c||e.target===t)return;y()}}}function x(e){f&&46===e.keyCode&&"textarea"!==e.target.nodeName.toLowerCase()&&"input"!==e.target.nodeName.toLowerCase()&&g()}function A(e){if(e.target===f){var t=f.getAttribute("data-target-id"),n=document.querySelector('[data-pdf-annotate-id="'+t+'"]').getAttribute("data-pdf-annotate-type");"highlight"!==n&&"strikeout"!==n&&(c=!0,p=e.clientX,v=e.clientY,h=f.offsetLeft,m=f.offsetTop,f.style.background="rgba(255, 255, 255, 0.7)",f.style.cursor="move",f.querySelector("a").style.display="none",document.addEventListener("mousemove",w),document.addEventListener("mouseup",_),(0,u.disableUserSelect)())}}function w(e){f.getAttribute("data-target-id");var t=f.parentNode.getBoundingClientRect(),n=m+(e.clientY-v),r=h+(e.clientX-p),o=t.height,i=t.width;n>0&&n+f.offsetHeight<o&&(f.style.top=n+"px"),r>0&&r+f.offsetWidth<i&&(f.style.left=r+"px")}function _(e){var t=f.getAttribute("data-target-id"),n=document.querySelectorAll('[data-pdf-annotate-id="'+t+'"]'),a=n[0].getAttribute("data-pdf-annotate-type"),l=f.parentNode.querySelector("svg.annotationLayer"),d=(0,u.getMetadata)(l).documentId;function p(e,t){return{deltaX:3+(0,u.scaleDown)(l,{x:f.offsetLeft}).x-e,deltaY:3+(0,u.scaleDown)(l,{y:f.offsetTop}).y-t}}f.querySelector("a").style.display="",o.default.getStoreAdapter().getAnnotation(d,t).then((function(e){var c,f,v;["area","highlight","point","textbox"].indexOf(a)>-1?("x","y",c=p(parseInt(n[0].getAttribute("x"),10),parseInt(n[0].getAttribute("y"),10)),f=c.deltaX,v=c.deltaY,[].concat(s(n)).forEach((function(t,n){if(0!==v){var r=parseInt(t.getAttribute("y"),10)+v,o=r;"textbox"===a&&(o+=e.size),"point"===a&&(o=(0,u.scaleUp)(l,{viewY:o}).viewY),t.setAttribute("y",o),e.rectangles?e.rectangles[n].y=r:e.y&&(e.y=r)}if(0!==f){var i=parseInt(t.getAttribute("x"),10)+f,s=i;"point"===a&&(s=(0,u.scaleUp)(l,{viewX:s}).viewX),t.setAttribute("x",s),e.rectangles?e.rectangles[n].x=i:e.x&&(e.x=i)}}))):"drawing"===a&&function(){var t=(0,u.scaleDown)(l,(0,u.getAnnotationRect)(n[0])),o=r(e.lines[0],2),a=o[0],s=o[1],d=p(a,s),c=d.deltaX,f=d.deltaY;f+=s-t.top,c+=a-t.left,e.lines.forEach((function(t,n){var o=r(e.lines[n],2),i=o[0],a=o[1];e.lines[n][0]=i+c,e.lines[n][1]=a+f})),n[0].parentNode.removeChild(n[0]),(0,i.default)(l,e)}(),o.default.getStoreAdapter().editAnnotation(d,t,e)})),setTimeout((function(){c=!1}),0),f.style.background="",f.style.cursor="",document.removeEventListener("mousemove",w),document.removeEventListener("mouseup",_),(0,u.enableUserSelect)()}function E(e){!function(e){y(),f=document.createElement("div");var t=document.createElement("a"),n=(0,u.findSVGContainer)(e).parentNode,r=e.getAttribute("data-pdf-annotate-id"),o=(0,u.getAnnotationRect)(e),i=o.left-3,a=o.top-3;f.setAttribute("id","pdf-annotate-edit-overlay"),f.setAttribute("data-target-id",r),f.style.boxSizing="content-box",f.style.position="absolute",f.style.top=a+"px",f.style.left=i+"px",f.style.width=o.width+"px",f.style.height=o.height+"px",f.style.border="3px solid "+u.BORDER_COLOR,f.style.borderRadius="3px",t.innerHTML="Ã—",t.setAttribute("href","javascript://"),t.style.background="#fff",t.style.borderRadius="20px",t.style.border="1px solid #bbb",t.style.color="#bbb",t.style.fontSize="16px",t.style.padding="2px",t.style.textAlign="center",t.style.textDecoration="none",t.style.position="absolute",t.style.top="-13px",t.style.right="-13px",t.style.width="25px",t.style.height="25px",f.appendChild(t),n.appendChild(f),document.addEventListener("click",b),document.addEventListener("keyup",x),document.addEventListener("mousedown",A),t.addEventListener("click",g),t.addEventListener("mouseover",(function(){t.style.color="#35A4DC",t.style.borderColor="#999",t.style.boxShadow="0 1px 1px #ccc"})),t.addEventListener("mouseout",(function(){t.style.color="#bbb",t.style.borderColor="#bbb",t.style.boxShadow=""})),f.addEventListener("mouseover",(function(){c||(t.style.display="")})),f.addEventListener("mouseout",(function(){t.style.display="none"}))}(e)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.setPen=function(){var e=arguments.length<=0||void 0===arguments[0]?1:arguments[0],t=arguments.length<=1||void 0===arguments[1]?"000000":arguments[1];l=parseInt(e,10),s=t},t.enablePen=function(){u||(u=!0,document.addEventListener("mousedown",f),document.addEventListener("keyup",h),(0,i.disableUserSelect)())},t.disablePen=function(){u&&(u=!1,document.removeEventListener("mousedown",f),document.removeEventListener("keyup",h),(0,i.enableUserSelect)())};var r=a(n(1)),o=a(n(11)),i=n(6);function a(e){return e&&e.__esModule?e:{default:e}}var u=!1,l=void 0,s=void 0,d=void 0,c=void 0;function f(){d=null,c=[],document.addEventListener("mousemove",v),document.addEventListener("mouseup",p)}function p(e){var t=void 0;if(c.length>1&&(t=(0,i.findSVGAtPoint)(e.clientX,e.clientY))){var n=(0,i.getMetadata)(t),a=n.documentId,u=n.pageNumber;r.default.getStoreAdapter().addAnnotation(a,u,{type:"drawing",width:l,color:s,lines:c}).then((function(e){d&&t.removeChild(d),(0,o.default)(t,e)}))}document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",p)}function v(e){!function(e,t){var n=(0,i.findSVGAtPoint)(e,t);if(n){var r=n.getBoundingClientRect(),a=(0,i.scaleDown)(n,{x:e-r.left,y:t-r.top});c.push([a.x,a.y]),c.length<=1||(d&&n.removeChild(d),d=(0,o.default)(n,{type:"drawing",color:s,width:l,lines:c}))}}(e.clientX,e.clientY)}function h(e){27===e.keyCode&&(c=null,d.parentNode.removeChild(d),document.removeEventListener("mousemove",v),document.removeEventListener("mouseup",p))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};t.enablePoint=function(){l||(l=!0,document.addEventListener("mouseup",d))},t.disablePoint=function(){l&&(l=!1,document.removeEventListener("mouseup",d))};var o=u(n(1)),i=u(n(11)),a=n(6);function u(e){return e&&e.__esModule?e:{default:e}}var l=!1,s=void 0;function d(e){!s&&(0,a.findSVGAtPoint)(e.clientX,e.clientY)&&((s=document.createElement("input")).setAttribute("id","pdf-annotate-point-input"),s.setAttribute("placeholder","Enter comment"),s.style.border="3px solid "+a.BORDER_COLOR,s.style.borderRadius="3px",s.style.position="absolute",s.style.top=e.clientY+"px",s.style.left=e.clientX+"px",s.addEventListener("blur",c),s.addEventListener("keyup",f),document.body.appendChild(s),s.focus())}function c(){p()}function f(e){27===e.keyCode?v():13===e.keyCode&&p()}function p(){if(s.value.trim().length>0){var e=function(){var e=parseInt(s.style.left,10),t=parseInt(s.style.top,10),n=s.value.trim(),r=(0,a.findSVGAtPoint)(e,t);if(!r)return{v:void 0};var u=r.getBoundingClientRect(),l=(0,a.getMetadata)(r),d=l.documentId,c=l.pageNumber,f=Object.assign({type:"point"},(0,a.scaleDown)(r,{x:e-u.left,y:t-u.top}));o.default.getStoreAdapter().addAnnotation(d,c,f).then((function(e){o.default.getStoreAdapter().addComment(d,e.uuid,n),(0,i.default)(r,e)}))}();if("object"===(void 0===e?"undefined":r(e)))return e.v}v()}function v(){s.removeEventListener("blur",c),s.removeEventListener("keyup",f),document.body.removeChild(s),s=null}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.enableRect=function(e){s=e,l||(l=!0,document.addEventListener("mouseup",h),document.addEventListener("mousedown",p),document.addEventListener("keyup",m))},t.disableRect=function(){l&&(l=!1,document.removeEventListener("mouseup",h),document.removeEventListener("mousedown",p),document.removeEventListener("keyup",m))};var r=a(n(1)),o=a(n(11)),i=n(6);function a(e){return e&&e.__esModule?e:{default:e}}function u(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)}var l=!1,s=void 0,d=void 0,c=void 0,f=void 0;function p(e){var t=void 0;if("area"===s&&(t=(0,i.findSVGAtPoint)(e.clientX,e.clientY))){var n=t.getBoundingClientRect();c=e.clientY,f=e.clientX,(d=document.createElement("div")).style.position="absolute",d.style.top=c-n.top+"px",d.style.left=f-n.left+"px",d.style.border="3px solid "+i.BORDER_COLOR,d.style.borderRadius="3px",t.parentNode.appendChild(d),document.addEventListener("mousemove",v),(0,i.disableUserSelect)()}}function v(e){var t=d.parentNode.querySelector("svg.annotationLayer").getBoundingClientRect();f+(e.clientX-f)<t.right&&(d.style.width=e.clientX-f+"px"),c+(e.clientY-c)<t.bottom&&(d.style.height=e.clientY-c+"px")}function h(e){var t=void 0;if("area"!==s&&(t=function(){try{var e=window.getSelection().getRangeAt(0).getClientRects();if(e.length>0&&e[0].width>0&&e[0].height>0)return e}catch(e){}return null}()))(0,i.findSVGAtPoint)(t[0].left,t[0].top),y(s,[].concat(u(t)).map((function(e){return{top:e.top,left:e.left,width:e.width,height:e.height}})));else if("area"===s&&d){var n=d.parentNode.querySelector("svg.annotationLayer").getBoundingClientRect();y(s,[{top:parseInt(d.style.top,10)+n.top,left:parseInt(d.style.left,10)+n.left,width:parseInt(d.style.width,10),height:parseInt(d.style.height,10)}]),d.parentNode.removeChild(d),d=null,document.removeEventListener("mousemove",v),(0,i.enableUserSelect)()}}function m(e){27===e.keyCode&&(window.getSelection().removeAllRanges(),d&&d.parentNode&&(d.parentNode.removeChild(d),d=null,document.removeEventListener("mousemove",v)))}function y(e,t,n){var a=(0,i.findSVGAtPoint)(t[0].left,t[0].top),l=void 0;if(a){var s=a.getBoundingClientRect();if(n||("highlight"===e?n="FFFF00":"strikeout"===e&&(n="FF0000")),0!==(l={type:e,color:n,rectangles:[].concat(u(t)).map((function(t){var n=0;return"strikeout"===e&&(n=t.height/2),(0,i.scaleDown)(a,{y:t.top+n-s.top,x:t.left-s.left,width:t.width,height:t.height})})).filter((function(e){return e.width>0&&e.height>0&&e.x>-1&&e.y>-1}))}).rectangles.length){if("area"===e){var d=l.rectangles[0];delete l.rectangles,l.x=d.x,l.y=d.y,l.width=d.width,l.height=d.height}var c=(0,i.getMetadata)(a),f=c.documentId,p=c.pageNumber;r.default.getStoreAdapter().addAnnotation(f,p,l).then((function(e){(0,o.default)(a,e)}))}}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol?"symbol":typeof e};t.setText=function(){var e=arguments.length<=0||void 0===arguments[0]?12:arguments[0],t=arguments.length<=1||void 0===arguments[1]?"000000":arguments[1];d=parseInt(e,10),c=t},t.enableText=function(){l||(l=!0,document.addEventListener("mouseup",f))},t.disableText=function(){l&&(l=!1,document.removeEventListener("mouseup",f))};var o=u(n(1)),i=u(n(11)),a=n(6);function u(e){return e&&e.__esModule?e:{default:e}}var l=!1,s=void 0,d=void 0,c=void 0;function f(e){!s&&(0,a.findSVGAtPoint)(e.clientX,e.clientY)&&((s=document.createElement("input")).setAttribute("id","pdf-annotate-text-input"),s.setAttribute("placeholder","Enter text"),s.style.border="3px solid "+a.BORDER_COLOR,s.style.borderRadius="3px",s.style.position="absolute",s.style.top=e.clientY+"px",s.style.left=e.clientX+"px",s.style.fontSize=d+"px",s.addEventListener("blur",p),s.addEventListener("keyup",v),document.body.appendChild(s),s.focus())}function p(){h()}function v(e){27===e.keyCode?m():13===e.keyCode&&h()}function h(){if(s.value.trim().length>0){var e=function(){var e=parseInt(s.style.left,10),t=parseInt(s.style.top,10),n=(0,a.findSVGAtPoint)(e,t);if(!n)return{v:void 0};var r=(0,a.getMetadata)(n),u=r.documentId,l=r.pageNumber,f=n.getBoundingClientRect(),p=Object.assign({type:"textbox",size:d,color:c,content:s.value.trim()},(0,a.scaleDown)(n,{x:e-f.left,y:t-f.top,width:s.offsetWidth,height:s.offsetHeight}));o.default.getStoreAdapter().addAnnotation(u,l,p).then((function(e){(0,i.default)(n,e)}))}();if("object"===(void 0===e?"undefined":r(e)))return e.v}m()}function m(){s&&(s.removeEventListener("blur",p),s.removeEventListener("keyup",v),document.body.removeChild(s),s=null)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});t.createPage=function(e){var t=document.createElement("div");t.innerHTML='\n  <div style="visibility: hidden;" class="page" data-loaded="false">\n    <div class="canvasWrapper">\n      <canvas></canvas>\n    </div>\n    <svg class="annotationLayer"></svg>\n    <div class="textLayer"></div>\n  </div>\n';var n=t.children[0],r=n.querySelector("canvas");return n.setAttribute("id","pageContainer"+e),n.setAttribute("data-page-number",e),r.mozOpaque=!0,r.setAttribute("id","page"+e),n},t.renderPage=function(e,t){var n=t.documentId,i=t.pdfDocument,l=t.scale,s=t.rotate;return Promise.all([i.getPage(e),r.default.getAnnotations(n,e)]).then((function(t){var n=function(e,t){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return function(e,t){var n=[],r=!0,o=!1,i=void 0;try{for(var a,u=e[Symbol.iterator]();!(r=(a=u.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{!r&&u.return&&u.return()}finally{if(o)throw i}}return n}(e,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(t,2),i=n[0],d=n[1],c=document.getElementById("pageContainer"+e),f=c.querySelector(".annotationLayer"),p=c.querySelector(".canvasWrapper canvas").getContext("2d",{alpha:!1}),v=i.getViewport(l,s),h=function(e,t,n){var r,o,i=document.getElementById("pageContainer"+e),l=i.querySelector(".canvasWrapper canvas"),s=i.querySelector(".annotationLayer"),d=i.querySelector(".canvasWrapper"),c=i.querySelector(".textLayer"),f=(r=n,{sx:o=(window.devicePixelRatio||1)/(r.webkitBackingStorePixelRatio||r.mozBackingStorePixelRatio||r.msBackingStorePixelRatio||r.oBackingStorePixelRatio||r.backingStorePixelRatio||1),sy:o,scaled:1!==o}),p=f.scaled?[f.sx,0,0,f.sy,0,0]:null,v=a(f.sx),h=a(f.sy);return i.style.visibility="",l.width=u(t.width*f.sx,v[0]),l.height=u(t.height*f.sy,h[0]),l.style.width=u(t.width,v[1])+"px",l.style.height=u(t.height,v[1])+"px",s.setAttribute("width",t.width),s.setAttribute("height",t.height),s.style.width=t.width+"px",s.style.height=t.height+"px",i.style.width=t.width+"px",i.style.height=t.height+"px",d.style.width=t.width+"px",d.style.height=t.height+"px",c.style.width=t.width+"px",c.style.height=t.height+"px",p}(e,v,p);return Promise.all([i.render({canvasContext:p,viewport:v,transform:h}),r.default.render(f,v,d)]).then((function(){return i.getTextContent({normalizeWhitespace:!0}).then((function(t){return new Promise((function(n,r){var i=c.querySelector(".textLayer"),a=(new PDFJS.DefaultTextLayerFactory).createTextLayerBuilder(i,e-1,v);a.setTextContent(t),a.render(),setTimeout((function(){try{(0,o.default)(d.annotations),n()}catch(e){r(e)}}))}))}))})).then((function(){return c.setAttribute("data-loaded","true"),[i,d]}))}))};var r=i(n(1)),o=i(n(20));function i(e){return e&&e.__esModule?e:{default:e}}function a(e){if(Math.floor(e)===e)return[e,1];var t=1/e;if(t>8)return[1,8];if(Math.floor(t)===t)return[1,t];for(var n=e>1?t:e,r=0,o=1,i=1,a=1;;){var u=r+i,l=o+a;if(l>8)break;n<=u/l?(i=u,a=l):(r=u,o=l)}return n-r/o<i/a-n?n===e?[r,o]:[o,r]:n===e?[i,a]:[a,i]}function u(e,t){var n=e%t;return 0===n?e:Math.round(e-n+t)}}])},e.exports=t()}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={exports:{}};return e[r].call(i.exports,i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{"use strict";var e=n(394),t=n.n(e);const r=[{hex:"#000000",name:"Black"},{hex:"#EF4437",name:"Red"},{hex:"#E71F63",name:"Pink"},{hex:"#8F3E97",name:"Purple"},{hex:"#65499D",name:"Deep Purple"},{hex:"#4554A4",name:"Indigo"},{hex:"#2083C5",name:"Blue"},{hex:"#35A4DC",name:"Light Blue"},{hex:"#09BCD3",name:"Cyan"},{hex:"#009688",name:"Teal"},{hex:"#43A047",name:"Green"},{hex:"#8BC34A",name:"Light Green"},{hex:"#FDC010",name:"Yellow"},{hex:"#F8971C",name:"Orange"},{hex:"#F0592B",name:"Deep Orange"},{hex:"#F06291",name:"Light Pink"}];function o(e,t,n){function o(e,t=!0){s=e,c.setAttribute("data-color",e),c.style.background=e,t&&"function"==typeof n&&n(e),i()}function i(){document.removeEventListener("keyup",u),l&&l.parentNode&&l.parentNode.removeChild(l),d=!1,c.focus()}function a(e){let t=document.createElement("a");return t.className="color",t.setAttribute("href","javascript://"),t.setAttribute("title",e.name),t.setAttribute("data-color",e.hex),t.style.background=e.hex,t}function u(e){27===e.keyCode&&i()}let l,s,d=!1,c=a({hex:t});c.onclick=function(){d?i():(l||(l=document.createElement("div"),l.style.background="#fff",l.style.border="1px solid #ccc",l.style.padding="2px",l.style.position="absolute",l.style.width="122px",e.style.position="relative",r.map(a).forEach((e=>{e.style.margin="2px",e.onclick=function(){o(e.getAttribute("data-color"))},l.appendChild(e)}))),document.addEventListener("keyup",u),e.appendChild(l),d=!0)},e.appendChild(c),o(t,!1)}const{UI:i}=t(),a=document.querySelector(".delete.exam-title").textContent;let u,l={documentId:a,pdfDocument:null,scale:parseFloat(localStorage.getItem(`${a}/scale`),10)||1.5,rotate:parseInt(localStorage.getItem(`${a}/rotate`),10)||0};t().setStoreAdapter(new(t().LocalStoreAdapter)),PDFJS.workerSrc="../pdf-assets/shared/pdf.worker.js";let s=0,d={};document.getElementById("content-wrapper").addEventListener("scroll",(function(e){var t=Math.round(e.target.scrollTop/u)+1;document.querySelector('.page[data-page-number="'+t+'"][data-loaded="false"]')&&(d[t]||(d[t]=!0,setTimeout((function(){i.renderPage(t,l)}))))})),PDFJS.getDocument(l.documentId).then((e=>{l.pdfDocument=e;let t=document.getElementById("viewer");t.innerHTML="",s=e.pdfInfo.numPages;for(let e=0;e<s;e++){let n=i.createPage(e+1);t.appendChild(n)}i.renderPage(1,l).then((([e,t])=>{let n=e.getViewport(l.scale,l.rotate);u=n.height}))})),function(){let e,t;function n(n,r){let o=!1;if(e!==n&&(o=!0,e=n,localStorage.setItem(`${l.documentId}/text/size`,e),document.querySelector(".toolbar .text-size").value=e),t!==r){o=!0,t=r,localStorage.setItem(`${l.documentId}/text/color`,t);let e=document.querySelector(".toolbar .text-color.color-selected");e&&(e.classList.remove("color-selected"),e.removeAttribute("aria-selected")),e=document.querySelector(`.toolbar .text-color[data-color="${r}"]`),e&&(e.classList.add("color-selected"),e.setAttribute("aria-selected",!0))}o&&i.setText(e,t)}document.querySelector(".toolbar .text-size").addEventListener("change",(function(e){n(e.target.value,t)})),function(){let r=document.querySelector(".toolbar .text-size");[8,9,10,11,12,14,18,24,30,36,48,60,72,96].forEach((e=>{r.appendChild(new Option(e,e))})),n(localStorage.getItem(`${l.documentId}/text/size`)||10,localStorage.getItem(`${l.documentId}/text/color`)||"#000000"),o(document.querySelector(".text-color"),t,(function(t){n(e,t)}))}()}(),function(){let e,t;function n(n,r){let o=!1;if(e!==n&&(o=!0,e=n,localStorage.setItem(`${l.documentId}/pen/size`,e),document.querySelector(".toolbar .pen-size").value=e),t!==r){o=!0,t=r,localStorage.setItem(`${l.documentId}/pen/color`,t);let e=document.querySelector(".toolbar .pen-color.color-selected");e&&(e.classList.remove("color-selected"),e.removeAttribute("aria-selected")),e=document.querySelector(`.toolbar .pen-color[data-color="${r}"]`),e&&(e.classList.add("color-selected"),e.setAttribute("aria-selected",!0))}o&&i.setPen(e,t)}document.querySelector(".toolbar .pen-size").addEventListener("change",(function(e){n(e.target.value,t)})),function(){let r=document.querySelector(".toolbar .pen-size");for(let e=0;e<20;e++)r.appendChild(new Option(e+1,e+1));n(localStorage.getItem(`${l.documentId}/pen/size`)||1,localStorage.getItem(`${l.documentId}/pen/color`)||"#000000"),o(document.querySelector(".pen-color"),t,(function(t){n(e,t)}))}()}(),function(){let e=localStorage.getItem(`${l.documentId}/tooltype`)||"cursor";function t(t,n){let r=document.querySelector(".toolbar button.active");if(r)switch(r.classList.remove("active"),e){case"cursor":i.disableEdit();break;case"draw":i.disablePen();break;case"text":i.disableText();break;case"point":i.disablePoint();break;case"area":case"highlight":case"strikeout":i.disableRect()}switch(n&&n.classList.add("active"),e!==t&&localStorage.setItem(`${l.documentId}/tooltype`,t),e=t,t){case"cursor":i.enableEdit();break;case"draw":i.enablePen();break;case"text":i.enableText();break;case"point":i.enablePoint();break;case"area":case"highlight":case"strikeout":i.enableRect(t)}}e&&t(e,document.querySelector(`.toolbar button[data-tooltype=${e}]`)),document.querySelector(".toolbar").addEventListener("click",(function(e){"BUTTON"===e.target.nodeName&&t(e.target.getAttribute("data-tooltype"),e.target)}))}(),document.querySelector("a.clear").addEventListener("click",(function(e){if(confirm("Are you sure you want to clear annotations?")){for(let e=0;e<s;e++)document.querySelector(`div#pageContainer${e+1} svg.annotationLayer`).innerHTML="";localStorage.removeItem(`${l.documentId}/annotations`)}}))})()})();